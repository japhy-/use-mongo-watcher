(this["webpackJsonpuse-mongo-watcher-example"]=this["webpackJsonpuse-mongo-watcher-example"]||[]).push([[0],{10:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t.n(r),o=t(1),u=t.n(o),i=(t(9),function(e){var n=e.collection,t=e.filter,c=e.callback,o=Object(r.useRef)(),u=Object(r.useRef)(0),i=function(){var e=Object(r.useRef)(!1);return Object(r.useEffect)((function(){return e.current=!0,function(){return e.current=!1}}),[]),function(){return e.current}}();return Object(r.useEffect)((function(){if(t&&(!Array.isArray(t)||t.length)&&Object.entries(t).length){var e,r=++u.current;return console.log("connecting",{iter:r,filter:t}),n.watch(t).then((function(n){i()&&r===u.current?(console.log("watching",{iter:r,filter:t}),o.current=e=n,o.current.onNext(c)):(console.log("unmounted while connecting"),n.close())})),function(){e&&e.close()}}}),[t,c]),o});var l=()=>{const e=i({});return c.a.createElement("div",null,JSON.stringify(e))};u.a.render(c.a.createElement(l,null),document.getElementById("root"))},2:function(e,n,t){e.exports=t(10)},9:function(e,n,t){}},[[2,1,2]]]);
//# sourceMappingURL=main.85b71c01.chunk.js.map